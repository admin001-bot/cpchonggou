# 开发环境 Dockerfile
FROM golang:1.21-alpine

WORKDIR /app

# 复制所有文件
COPY . .

# 生成go.sum并下载依赖
RUN go mod tidy

EXPOSE 8080

# 运行前确保依赖完整
CMD ["sh", "-c", "go mod tidy && go run ./cmd/server/"]
